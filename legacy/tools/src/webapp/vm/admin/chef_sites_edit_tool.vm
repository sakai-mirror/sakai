##<!-- $Header: /cvs/sakai2/legacy/tools/src/webapp/vm/admin/chef_sites_edit_tool.vm,v 1.3 2005/05/19 19:53:01 gsilver.umich.edu Exp $ -->
#if($tool && $tool.Tool && $tool.Tool.Id)
<script type="text/javascript">
  focus_path = [ "title" ];
</script>
#end
<div class="portletBody">
#if($menu)
	#toolbar($menu)
#end
	#if ($alertMessage)<div class="alertMessage">$tlang.getString("siteditoo.alert") $validator.escapeHtml($alertMessage)</div>#end
	<div class ="breadCrumb">
		$tlang.getString("siteditoo.edisit") $!site.Id / $tlang.getString("siteditoo.pag") $!page.Id / $tlang.getString("siteditoo.too") $!tool.Id
	</div>
	<div class="instruction">
		$tlang.getString("siteditoo.revandmod")
	</div>

	<form name="thisOne" id="thisOne" action="#toolForm("$action")" method="post">
		<input type="hidden" name="eventSubmit_doDone_feature" value="x" />
		<h4>
				$tlang.getString("siteditoo.toofea")
		</h4>		
			<table class="itemSummary" summary="$tlang.getString("siteditoo.revandmod")">
				<tr>
					<th>$tlang.getString("siteditoo.tooid")</th>
					<td>
						$validator.escapeHtml($tool.Tool.Id)
					</td>
				</tr>
				<tr>
					<th>
						$tlang.getString("siteditoo.fea")
					</td>
					<td>
						#foreach ($reg in $features)
							<input type="radio" name="feature" id="feature$velocityCount" value="$reg.Id" #if($reg.Id==$tool.Tool.Id)checked="checked"#end
									onclick="document.getElementById('thisOne').submit();"/>
							<label for="feature$velocityCount">$reg.Title ($reg.Id)</label> <br />
						#end							
					</td>
				</tr>
			</table>
	</form>
	<form name="$form-name" action="#toolForm("$action")" method="post">
		<h4>
			$tlang.getString("siteditoo.toocon")
		</h4>	

			<table class="itemSummary" summary="$tlang.getString("siteditoo.revandmod")">
				<tr>
					<th>
						<label for="title">
							$tlang.getString("siteditoo.tit")
						</label>
					</th>
					<td>
						<input type="text" name="title" id="title" #if($tool) value="$!validator.escapeHtml($tool.Title)"#end />
					</td>
				</tr>
				<tr>
					<th>
						<label for="layoutHints">
							$tlang.getString("siteditoo.lay")<br/><span class="instruction">$tlang.getString("siteditoo.rowcol")</span>
						</label>
					</th>
					<td>
						<input type="text" name="layoutHints" id="layoutHints" #if($tool && $tool.LayoutHints) value="$!validator.escapeHtml($tool.LayoutHints)"#end />
					</td>
				</tr>
			</table>
			#if ($toolReg)
				<h4>
					$tlang.getString("siteditoo.con")
				</h4>	

					<table class="itemSyummary" summary="$tlang.getString("siteditoo.revandmod2")">
						#set ($regParams = $toolReg.MutableConfig)
						#set ($paramNames = $regParams.propertyNames())
						#set ($toolParams = $tool.Config)
						#foreach ($paramName in $paramNames)
							#set ($paramValue = $toolParams.getProperty($paramName))
							<tr>
								<th>
									<label for="param_$paramName">
										$paramName:
									</label>
								</th>
								<td>
									<input type="text" name="param_$paramName" id="param_$paramName" value="$validator.escapeHtml($paramValue)" />
								</td>
							</tr>
						#end
					</table>
			#end
				<h4>
					$tlang.getString("siteditoo.conedi")
				</h4>	

				<div class="act">
					<input type="submit" name="eventSubmit_doDone_tool" value="$tlang.getString("siteditoo.don")" />
				</div>
			<h4>	
				$tlang.getString("siteditoo.comthesit")
			</h4>		

				<div class="act">
					<input type="submit" name="eventSubmit_doSave_tool" value="$tlang.getString("siteditoo.sav")" />
					<input type="submit" name="eventSubmit_doCancel" value="$tlang.getString("siteditoo.can")" />
				</div>
			</fieldset>
		</fieldset>
	</form>
</div>

