##<!-- $Header: /cvs/sakai2/legacy/tools/src/webapp/vm/helper/chef_attachment_upload.vm,v 1.3 2005/06/08 17:30:54 zqian.umich.edu Exp $ -->
## #paitence("upload") %%% currently disabled -ggolden

<script type="text/javascript">
  focus_path = [ "file" ];
</script>
<div class="portletBody">
##	#menu($menu)
	<h3>
		$validator.escapeHtml($from)
	</h3>

		#if ($alertMessage)<div class="alertMessage">$thelp.getString("gen.alert") $validator.escapeHtml($alertMessage)</div>#end
		<div class="instruction">
			$thelp.getString("upl.brow")
		</div>
		<form name="attachmentForm" action="#toolForm("$action")&special=upload" method="post" enctype="multipart/form-data">
			<input type="hidden" name="eventSubmit_doDispatch_attachment_upload" value="x" />
			<input type="hidden" name="option" value="attach" />
			<p class="shorttext">
				<label for="file">$thelp.getString("upl.fil")</label>
				<input type="file" name="file" id="file" class="upload" />
			</p>	
			<div class="act">
				## showNotif parameters: 1) id of the span that should show ('submitnotif'), 2) name of the input to disable (no spaces,hope that is OK), 3) name of the form)
				## call the showNotif function first - set 1st parameter to 'noNotif' > notification will remain hidden, 2nd parameter to 'noBlock'  > submit button will not be disabled
				<input 
					type="button" 
					class="active"
					name="attach" 
					id="attach" 
					value="$thelp.getString("gen.att2")"
					onClick="showNotif('submitnotif','attach','attachmentForm');document.attachmentForm.option.value='attach'; document.attachmentForm.submit(); return false;"
				/>
				<input
					class="disableme" 
					type="button" 
					name="Cancel" 
					id="Cancel" 
					value="$thelp.getString("gen.can")"
					onClick="document.attachmentForm.option.value='cancel'; document.attachmentForm.submit(); return false;"
				/>
				<span id="submitnotif" style="visibility:hidden">$thelp.getString("gen.pro")</span>	
			</div>
		</form>
	</div>

