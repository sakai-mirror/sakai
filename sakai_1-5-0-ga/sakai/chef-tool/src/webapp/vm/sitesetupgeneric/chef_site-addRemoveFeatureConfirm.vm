##<!-- $Header: /cvs/sakai/chef-tool/src/webapp/vm/sitesetupgeneric/chef_site-addRemoveFeatureConfirm.vm,v 1.6 2004/12/08 18:00:25 gsilver.umich.edu Exp $ -->
## Adding/removing features
<div class="portletBody">
	#if($menu)#toolbar($menu)#end
	<h3 class="insColor insBak insBor">
		Confirming site tools for $validator.escapeHtml($title)
	</h3>
		#if ($alertMessage)
			<div class="chefAlertBox">Alert: $validator.escapeHtml($alertMessage)</div>
			<div style="display:block;clear:both"></div>
		#end
## (gsilver) should check what has happened - if tools have been removed output the following block, if not not. Same with added tools (and change the language to suit)	
##  (gsilver) the removed tools do not show up consistently in the removed tools list - also - if you remove an email archive tool it reads "Email Archive: @localhost"
	<p class="instruction">
		You have removed the following:
	</p>
	<p class="indnt3">
		#if (($oldSelectedHome) && (!$check_home))
			Home<br />
		#end
		#foreach ($oldTool in $oldSelectedTools)
			#foreach($t in $toolRegistrationList)
				#if ($t.getId() == $oldTool)
					#set($oldToolTitle = $t.getTitle())
				#end
			#end
			#set($found=false)
			#foreach ($newTool in $selectedTools)
				#if ($newTool.equals($oldTool))
					#set($found=true)
				#end
			#end
			#if (!$found)
				#if ($oldTool == "chef.mailbox")
					$!oldToolTitle: $!emailId@$serverName
				#elseif ($oldTool.indexOf("chef.news") != -1)
					$!newsTitles.get($oldTool) (News Tool)
				#elseif ($oldTool.indexOf("chef.iframe") != -1)
					$!wcTitles.get($oldTool) (Web Content Tool)
				#else
					$!oldToolTitle
				#end
				<br />
			#end
		#end
	</p>
	<p class="instruction">
		And have selected the following for your site (added tools shown in blue):
	</p>
	<p class="indnt3">
		#if ($check_home)
			#if (!$oldSelectedHome)
				<span style="color:#6699ff">Home</span>
			#else
				Home
			#end
		<br />
		#end
		#foreach ($newTool in $selectedTools)
			#set($newToolTitle = "")
			#foreach($t in $toolRegistrationList)
				#if ($t.getId() == $newTool)
					#set($newToolTitle = $t.getTitle())
				#end
			#end
			#set($found=false)
			#foreach ($oldTool in $oldSelectedTools)
				#if ($oldTool.equals($newTool))
					#set($found=true)
				#end
			#end
			#if (!$found)
				<span style="color:#6699ff">
			#end
			#if ($newTool == "chef.mailbox")
				$!newToolTitle: $!emailId@$serverName
			#elseif ($newTool.indexOf("chef.news") != -1)
				$!newsTitles.get($newTool) (News Tool)
			#elseif ($newTool.indexOf("chef.iframe") != -1)
				$!wcTitles.get($newTool) (Web Content Tool)
			#else
				$!newToolTitle
			#end
			#if (!$found)
				</span>
			#end
			<br />
		#end
	</p>
	<form name="addRemoveFeaturnConfirmForm" action="#toolForm("$action")" method="post">
		<input type="hidden" name="cancelIndex" value="$continueIndex" />
		<input type="hidden" name="back" value="$back" />
		<input type="hidden" name="template-index" value="15" />
		<input type="hidden" name="continue" value="$continueIndex" />
		<p class="act">
			<input type="submit" class="active" name="eventSubmit_doSave_revised_features" value="Finish" />
			<input type="submit" name="eventSubmit_doBack" value="Back" />
			<input type="submit" name="eventSubmit_doCancel" value="Cancel" />
		</p>
	</form>
</div>
