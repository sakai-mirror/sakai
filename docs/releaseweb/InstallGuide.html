<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
<html>
<head>

<title>Installation Overview</title>
 <link href="styles/pos.css" rel="stylesheet" type="text/css" />
 <link href="styles/styles3.css" rel="stylesheet" type="text/css" />
</head>

<body>

<div id="frame">

	<div id="contentheader">
	<a href="http://www.sakaiproject.org/">
<img src="images/logoslate160x89.jpg" alt="Sakai Logo"
 border="0" /></a>
	</div>

<div id="contentcenter">


	<div id="contentleft">

	<div id="bar">
	  &nbsp;
	  <!--END BAR-->
	</div>

<div class="pad">
<h2>Installation Guide<br>Table of Contents</h2>
<ol>
<li>
<a href="InstallGuide.html">Installation Overview</a></li>
<ul class="toc">
	<li><a href="#choose">1.1 Choose an Install Type</a></li>
	<li><a href="#demo">1.2 Demo Installation</a></li>
	<li><a href="#binary">1.3 Binary Installation</a></li>
	<li><a href="#overview">1.4 Source Install Phases</a></li>
	<li><a href="#migrating">1.5 Migrating from a Previous Release</a></li>
</ul>
<li>
<a href="buildenv.html">Set Up Build Environment</a>
<ul class="toc">
  <li><a href="buildenv.html#verify">2.1 Verify Java installation</a></li>
  <li><a href="buildenv.html#set">2.2 Set environment variables</a></li>
  <li><a href="buildenv.html#tomcat">2.3 Install
  Tomcat</a></li>
  <li><a href="buildenv.html#configurationtc">2.4 Configure Tomcat</a></li>
  <li><a href="buildenv.html#maven">2.5 Install Maven</a></li>
  <li><a href="buildenv.html#configurationm">2.6 Configure Maven</a></li>
  <li><a href="buildenv.html#testm">2.7 Test Maven</a></li>
  </li>
 </ul>
<li>
<a href="build.html">
  Build and Deploy Sakai</a>
<ul class="toc">
<li><a href="build.html#download">3.1 Download source</a></li>
  <li><a href="build.html#unpack">3.2 Unpack source</a></li>
  <li><a href="build.html#runmaven">3.3 Run maven</a></li>
</ul>
</li>

<li>
  <a href="postconfig.html">Post-Installation Configuration</a>
<ul class="toc">
<li><a href="postconfig.html#folder">4.1 Create sakai folder <br />
for properties files</a> </li>
  <li> <a href="postconfig.html#properties">4.2 The
sakai.properties file</a> </li>
  <li><a href="postconfig.html#personalize">4.3 Personalizing Sakai</a> </li>
  <li><a href="postconfig.html#email">4.4 Email configuration</a> </li>
  <li><a href="postconfig.html#jvm">4.5 JVM tuning</a> </li>
  <li><a href="postconfig.html#test">4.6 Test Sakai</a> </li>
</ul>
</li>

<li>
  <a href="dbconfig.html">Database Configuration</a>
<ul class="toc">
  <li><a href="dbconfig.html#updating">5.1 Migrating from a Previous Version</a></li>
  <li><a href="dbconfig.html#deployd">5.2 Deploy drivers</a> </li>
  <li><a href="dbconfig.html#create">5.3 Create Sakai database and user</a> </li>
  <li><a href="dbconfig.html#sproperties">5.4 Database Properties</a> </li>
</ul>
</li>
<li>
  <a href="tshoot.html">Troubleshooting</a>
<ul class="toc">
  <li><a href="tshoot.html#common">6.1 Common Issues</a> </li>
  <li><a href="tshoot.html#maven">6.2 Working with Maven</a> </li>
  <li><a href="tshoot.html#logs">6.3 Tomcat logs</a> </li>
</li>
</ul>
</li>
</ol>
<p>&nbsp;</p>

    <!--END PAD-->
  </div>

   <!--END LEFT-->
</div>

<!-- BEGIN CONTENT -->

<h1>1.  Installation Overview</h1>
<div class="pad">
<a name="choose"></a>


<h2>1.1 Choose an Install Type:</h2>
Sakai is available for three different installation methods.
<ul>
<li><b>Demo</b>: this archive provides the quickest and easiest way to try out Sakai.  It includes the Tomcat container and pre-built webapps, so that the only prerequisite for getting started is Java (version 1.4.2).</li>
<li><b>Binary</b>:  this archive is a kind of Tomcat overlay.  If you have a working Tomcat appropriately configured, the binary installation provides a quick way to drop the Sakai application bundle into place without requiring a maven build.  This may be a good choice if you're already comfortable with Sakai installation and configuration, but it is not recommended for a first look at the software.</li>
<li><b>Source</b>:  this archive includes only the source code to build Sakai, and therefore calls for separate, preparatory installations of Tomcat and the Maven build tool, along with a preferred database.</li>
</ul>


<a name="demo"></a>

<h2>1.2 Demo Installation</h2>
A demo installatation is fairly brief and straightforward.  The steps are as follows:
<ol>
<li>Verify Java Installation and Environment Variables (see the <a href="buildenv.html#verify">Set up Build Environment</a> section (2.1 - 2.2) of this guide)</li>
<li>Download and unpack the Demo Archive
	<ul>
	<li><a href="http://cvs.sakaiproject.org/release/2.1.1/sakai_2-1-1/sakai-demo_2-1-1.zip">Windows .zip file</a></li>
	<li><a href="http://cvs.sakaiproject.org/release/2.1.1/sakai_2-1-1/sakai-demo_2-1-1.tar.gz">Mac/*nix tarball</a></li>
	</ul></li>
<li>Tune your Java environment:  the default JVM is not sufficient to run Sakai out of the box, and some of its settings will need to be adjusted by setting a new environment variable called <b>JAVA_OPTS</b>, just as JAVA_HOME is set in <a href="buildenv.html#verify">Set up Build Environment</a>. The recommended, minimal value of this variable is:
<p><pre><span class="code">JAVA_OPTS="-server -Xmx512m -Xms512m -XX:PermSize=128m<br>-XX:MaxPermSize=128m"</span></pre></p>
<p>See <a href="postconfig.html#jvm">JVM Tuning</a> for a fuller discussion of the details and ways to improve performance.</p><br/></li>
<li>Start Tomcat with the following commands from the root Tomcat directory:
<table bgcolor="#ccddff" border="0" cellpadding="2" cellspacing="2">
      <tbody>
        <tr>
          <th>OS</th>
          <th>Sample Output</th>
        </tr>
        <tr>
          <td class="white"><span style="font-weight: bold;">Windows:</span></td>
          <td class="white"><span class="code">bin\catalina.bat start</span> </td>
        </tr>
        <tr>
          <td class="white"><span style="font-weight: bold;">Mac/*nix:</span> </td>
          <td class="white">
          <span class="code">bin/catalina.sh start</span></pre>
          </td>
        </tr>
      </tbody>
    </table>
    Once Tomcat is started up, you can point your browser (assuming you're browsing from the local machine) to
    <p></p>
    <span class="code">http://localhost:8080/portal</span>
    <p></p>
    This will bring you to the Sakai gateway site from which you can log in using the default administrator's account (username="admin" and password="admin").  New user accounts can be created from the admin "User" tool, or using the "New Account" link on the Sakai gateway site.  New sites can be created using the admin "Worksite Setup" tool.
<p></p>
To stop the demo:
<table bgcolor="#ccddff" border="0" cellpadding="2" cellspacing="2">
      <tbody>
        <tr>
          <th>OS</th>
          <th>Sample Output</th>
        </tr>
        <tr>
          <td class="white"><span style="font-weight: bold;">Windows:</span></td>
          <td class="white"><span class="code">bin\catalina.bat stop</span> </td>
        </tr>
        <tr>
          <td class="white"><span style="font-weight: bold;">Mac/*nix:</span> </td>
          <td class="white">
          <span class="code">bin/catalina.sh stop</span></pre>
          </td>
        </tr>
      </tbody>
</table>
</li>
</ol>
<b>Demo Data Storage:</b> The data for a Demo installation is stored in a HypersonicSql database (HSQLDB) which is stored in memory and then written out to files when Tomcat is shut down. These files are located at:
<p></p>
<span class="code">sakai-demo/sakai/db/sakai.db.*</span>
<p></p>
Objects created and modified during runs of the Sakai demo will persist through server restarts. [Warning: HSQLDB is not appropriate for running Sakai in any sort of production environment. For such cases we recommend MySql or Oracle (see <a href="dbconfig.html">Database Configuration</a>).
<p></p>
<b>Email not configured in the Demo:</b>
	<ul>
	<li>email detection in Sakai (i.e. mail sent to the Sakai server) is not enabled.</li>
	<li>email from Sakai (i.e. mail sent from Sakai) is not configured. This would require providing Sakai with an SMTP server to use. See <a href="postconfig.html">Post-Installation Configuration</a> for more details.</li>
	</ul>


<a name="binary"></a>
<h2>1.3 Binary Installation</h2>
The Binary Installation of Sakai provides a shortcut for those that already have Tomcat in place and configured as needed (see <a href="buildenv.html">Set up Build Environment</a> for details on Tomcat configuration), and it does so by providing a pre-built Sakai that can simply be dropped into Tomcat as an overlay.  All you need to do is unpack the Binary archive from within the root Tomcat directory (e.g. $CATALINA_HOME). The appropriate wars, jars, etc., will be deposited in the correct locations.
<p></p>
If you wish to customize a binary installation you'll need to manually create a 'sakai' directory in $CATALINA_HOME to hold your *.properties files, as described in <a href="postconfig.html">Post-Installation Configuration</a>.


<a name="overview"></a>
<h2>1.4 Source Installation</h2>
The Demo and Binary installs described above offer shortcuts, but they assume that no special customization is called for.  The remainder of this installation guide is devoted to the more rigorous and configurable Source installation, the steps of which may be organized into the following phases:
<ol>
<li><a href="buildenv.html">Set up the build environment</a>, including Java, Tomcat, and Maven.</li>
<li><a href="build.html">Build and deploy Sakai</a> by running Maven on the source.</li>
<li>Perform appropriate <a href="postconfig.html">Post-Installation Configuration</a> of the application.</li>
<li>Carry out the steps for <a href="dbconfig.html">Database Configuration</a>.</li>
</ol>
The Demo and Binary Installations can freely skip most of these phases, with exceptions noted above.  To view detailed breakdowns of these phases use the <em>Table of Contents</em> links at the upper left.

<a name="migrating"></a>
<h2>1.5 Migrating from a Previous Release</h2>
<p><b>CSS Changes</b>: tool_base.css has been altered from 2.1.1, and institutions with custom skins will need to note this. See the below Jira item for more details:
</p>

<p><a href="http://bugs.sakaiproject.org/jira/browse/SAK-3743">

    SAK-3743 Jira issue</a>.</p>



<p><b>Database Conversion Scripts</b>: see the <a href="dbconfig.html">Database Configuration</a> section of this guide.</p>



<!--END CONTENT-->
</div>
</div>
<br clear="all" /><!-- without this little <br /> NS6 and IE5PC do not stretch the frame div down to encopass the content DIVs -->
  <!--END FRAME-->
</div>
</body>
</html>
