## $Header: /cvs/sakai/chef-tool/src/webapp/vm/admin/chef_users_create.vm,v 1.1 2004/10/09 23:26:04 ggolden.umich.edu Exp $

<script type="text/javascript" language="JavaScript">
	focus_path = ["id"];
</script>
<script type="text/javascript" language="JavaScript">
	function validatePassword(evt)
	{
		var pwdef = document.getElementById("pw").defaultValue;
		var pw1 = document.getElementById("pw").value;
		var pw2 = document.getElementById("pw0").value;
		if((pw1 == pwdef && pw2 == pwdef) || pw1 == pw2)
		{
			return true;
		}
		if(evt.preventDefault)
		{
			evt.preventDefault();
		}
		alert("Passwords Must Match");
		document.getElementById("pw").value = "";
		document.getElementById("pw0").value = "";
		document.getElementById("pw").focus();
		
		return false;
	}
</script>
<div class="chefPortletContainer">
#if($menu)
	#toolbar($menu)
#end
	<div class ="chefPortletContent">
		#if ($alertMessage)<div class="chefAlertBox">Alert: $validator.escapeHtml($alertMessage)</div>#end
		<div class="chefPageviewTitle">
			Enter the following information to create a new account.
		</div>
		<form name="$form-name" id="$form-name" action="#toolForm("$action")" method="post" onsubmit="return validatePassword(event);">
			<fieldset>
				<legend>
					User
				</legend>
				<table class="chefEditItem" summary="Enter the following information to create a new account.">
					<tr>
						<td class="chefLabel">
							<label #if(!$user) for="id" #end>
								#if(!$user)<span class="chefAlert">*</span>#end User Id:
							</label>
						</td>
						<td>
							#if(!$user)<input type="text" name="id" id="id"/>#else$validator.escapeHtml($user.Id)#end
						</td>
					</tr>
					<tr>
						<td class="chefLabel">
							<label for="first-name">
								First Name:
							</label>
						</td>
						<td>
							<input type="text" name="first-name" id="first-name" #if($user)value="$validator.escapeHtml($user.FirstName)"#end/>
						</td>
					</tr>
					<tr>
						<td class="chefLabel">
							<label for="last-name">
								Last Name:
							</label>
						</td>
						<td>
							<input type="text" name="last-name" id="last-name" #if($user)value="$validator.escapeHtml($user.LastName)"#end/>
						</td>
					</tr>
					<tr>
						<td class="chefLabel">
							<label for="email">
								Email:
							</label>
						</td>
						<td>
							<input type="text" name="email" id="email"#if($user) value="$validator.escapeHtml($user.Email)"#end />
						</td>
					</tr>
					<tr>
						<td class="chefLabel">
							<label for="pw">
								Create New Password:
							</label>
						</td>
						<td>
							<input type="password" name="pw" id="pw"/>
						</td>
					</tr>
					<tr>
						<td class="chefLabel">
							<label for="pw0">
								Verify New Password:
							</label>
						</td>
						<td>
							<input type="password" name="pw0" id="pw0"/>
						</td>
					</tr>
					<tr>
						<td class="chefLabel">
							<label for="type">
								Type:
							</label>
						</td>
						<td>
							<input disabled type="text" name="dtype" id="dtype" value="$type"/>
							<input type="hidden" name="type" id="type" value="$type"/>
						</td>
					</tr>
				</table>
			</fieldset>
			<div class="chefButtonRow">
				<input type="submit" name="eventSubmit_doSave" value="Create Account" />
				<input type="submit" name="eventSubmit_doCancel" value="Cancel" />
			</div>
		</form>
	</div>
</div>
