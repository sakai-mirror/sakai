##<!-- $Header: /cvs/sakai/chef-tool/src/webapp/vm/helper/chef_attachment_upload.vm,v 1.5 2004/10/22 02:24:21 zqian.umich.edu Exp $ -->
## #paitence("upload") %%% currently disabled -ggolden

<script type="text/javascript">
  focus_path = [ "file" ];
</script>
<div class="chefPortletContainer" id="chefPortletContainer">
##	#menu($menu)
	<div class ="chefPortletToolBarMessage">
		$from
	</div>
	<div class="chefPortletContent">
		#if ($alertMessage)<div class="chefAlertBox">Alert: $validator.escapeHtml($alertMessage)</div>#end
		<div class="chefPageviewTitle">
			Browse to locate a file, then choose 'Attach' at the bottom.  Please be patient - uploads may take some time.
		</div>
		<form name="attachmentForm" action="#toolForm("$action")&special=upload" method="post" enctype="multipart/form-data">
			<input type="hidden" name="eventSubmit_doDispatch_attachment_upload" value="x" />
			<input type="hidden" name="option" value="attach" />
			<table class="chefEditItem">
				<tr>	
					<td class="chefLabel">Filename:</td>
					<td ><input type="file" name="file" id="file" class="upload" /></td>
				</tr>
			</table>
			<div class="chefButtonRow">
				## showNotif parameters: 1) id of the span that should show ('submitnotif'), 2) name of the input to disable (no spaces,hope that is OK), 3) name of the form)
				## call the showNotif function first - set 1st parameter to 'noNotif' > notification will remain hidden, 2nd parameter to 'noBlock'  > submit button will not be disabled
				<input 
					type="button" 
					name="attach" 
					id="attach" 
					value="Attach"
					onClick="showNotif('submitnotif','attach','attachmentForm');document.attachmentForm.option.value='attach'; document.attachmentForm.submit(); return false;"
				/>
				<input 
					type="button" 
					name="Cancel" 
					id="Cancel" 
					value="Cancel"
					onClick="document.attachmentForm.option.value='cancel'; document.attachmentForm.submit(); return false;"
				/>
				<span id="submitnotif" style="visibility:hidden">Processing......</span>	
			</div>
		</form>
	</div>
</div>

