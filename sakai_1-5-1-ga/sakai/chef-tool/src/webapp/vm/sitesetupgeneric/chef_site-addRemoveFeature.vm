##<!-- $Header: /cvs/sakai/chef-tool/src/webapp/vm/sitesetupgeneric/chef_site-addRemoveFeature.vm,v 1.10.2.3 2005/03/21 15:19:09 lance.indiana.edu Exp $ -->
## Adding/removing features
<div class="portletBody">
	#if($menu)#toolbar($menu)#end
		#if ($alertMessage)
			<div class="chefAlertBox">Alert: $validator.escapeHtml($alertMessage)</div>
			<div style="display:block;clear:both"></div>
		#end
	<h3 class="insColor insBak insBor">
		Revising site tools for $validator.escapeHtml($SiteTitle)...
	</h3>
	<p  class="instruction">
		Check boxes to add or remove tools from your site.
	</p>
	<form name="addremovefeaturesForm" action="#toolForm("$action")" method="post">
		<input type="hidden" name="option" value="add" />
		<input type="hidden" name="eventSubmit_doAdd_remove_features" value="x" />
		<table  class="listHier">
			<tr>
				<td>
					#if (!$myworkspace_site)
						<input type="checkbox" name="selectedTools" id="home" value="home"
							#if ($check_home)
								checked="checked"
							#end
						/>
					#else
						#if ($check_home)
							<input type="hidden" name="selectedTools" id="home" value="home" checked="checked" />
							<input type="checkbox" name="selectedTools" id="home" value="home" checked="checked" disabled="disabled" />				
						#end
					#end
				</td>
				<td><label for="home">Home</label></td><td>Description of the project, recent announcements, discussion, and chat items.</td>
			</tr>	
			#set ($checkedNewsTool = 0)
			#set ($checkedWCTool = 0)
			#foreach($tool in $toolRegistrationList)
				#set($toolId = $tool.getId())
				#set ($toolfound=false)
				#if($toolRegistrationSelectedList)
					#foreach($tId in $toolRegistrationSelectedList)
						#if($tId == $toolId)
							#set($toolfound=true)
						#end
					#end
				#end
				#if ($!defaultTools.indexOf($toolId) != -1)
					<input type="hidden" name="selectedTools" value="$toolId" />
				#end
				<tr>
					<td>
						#if (!$myworkspace_site || ($myworkspace_site && ($toolId.indexOf("chef.news") != -1 || $toolId.indexOf("chef.iframe") != -1 || $!defaultTools.indexOf($toolId) != -1)))
							<input type="checkbox" name="selectedTools" value="$toolId" id="$toolId"  
								#if ($!defaultTools.indexOf($toolId) != -1)
									checked="checked" disabled="disabled" 
								#else
									#if($toolRegistrationSelectedList)
										#foreach($tId in $toolRegistrationSelectedList)
											#if ($tId == $toolId)
												checked="checked"
											#end
										#end
									#end
								#end
							/>
						#else
							<div style="display:block;clear:both"></div>
						#end
					</td>
					<td>
						#if ($toolId.indexOf("chef.news") != -1)
							## show title for News tool
							#if ($toolRegistrationSelectedList.contains($toolId))
								<label for="$toolId">$newsTitles.get($toolId)</label>
							#else
								<label for="$toolId">$tool.getTitle()</label>
							#end
						#elseif ($toolId.indexOf("chef.iframe") != -1)
							## show url for Web Content tool
							#if ($toolRegistrationSelectedList.contains($toolId))
								<label for="$toolId">$wcTitles.get($toolId)</label>
							#else
								<label for="$toolId">$tool.getTitle()</label>
							#end
						#else
							<label for="$toolId" >$tool.getTitle()</label>
						#end
					</td>
					<td>
						#if ($toolId.indexOf("chef.news") != -1)
							## show url for News tool
							#if ($toolRegistrationSelectedList.contains($toolId))
								$newsUrls.get($toolId)
							#else
								$tool.getDescription()
							#end
						#elseif ($toolId.indexOf("chef.iframe") != -1)
							## show url for Web Content tool
							#if ($toolRegistrationSelectedList.contains($toolId))
								$wcUrls.get($toolId)
							#else
								$tool.getDescription()
							#end
						#else
							$tool.getDescription()
						#end
					</td>
				</tr>
			#end
		</table>
		<input type="hidden" name="back" value="$backIndex" />
		<input type="hidden" name="template-index" value="4" />
		<input type="hidden" name="continue" value="45" />
		<div class="act">
			<input type="submit" name="Continue" 
					value="Continue"
					class="active"
					onclick="document.addremovefeaturesForm.option.value='save';javascript:document.addremovefeaturesForm.submit();" />
			<input type="submit" name="Cancel" 
					value="Cancel" 
					onclick="document.addremovefeaturesForm.option.value='cancel';javascript:document.addremovefeaturesForm.submit();" />
		</div>
	</form>
</div>
