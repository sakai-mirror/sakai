<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
  <title>Demo Install Guide</title>
</head>
<body>
<h3 style="text-align: center;">Demo
Installation Guide
</h3>
<p>
</p>
<h3>Demo
Installation Introduction:</h3>
The Sakai
"Demo" includes a fully built and configured Sakai in a
ready-to-run package that also includes Tomcat and the compatibility
patch.&nbsp; The only
prerequisite is Java 1.4. &nbsp;The Demo installation is the
quickest way to get
started
with Sakai for demonstration and evaluation.<br>
<p></p>
<h3>Table of Contents</h3>
<ol>
  <a href="#Steps">Installation
Steps</a> <li>Verify
Java installation
(and install if necessary)</li>
  <li>Set environment variables</li>
  <li>Download Sakai Demo</li>
  <li>Unpack Demo archive</li>
  <li>Start Tomcat</li>
  <li>Test Sakai</li>
</ol>
<ol>
  <a href="#Notes">Demo
Notes</a> <li>Data
Storage</li>
  <li> Things
Not Included in the Demo</li>
  <li>Common
Problems </li>
</ol>
<!-- Guide Contents -->
<h3><a name="Steps"></a>Installation
Steps</h3>
<ol>
  <li><span style="font-weight: bold;">Verify Java Installation</span>
    <p>Check to see if you have
Java installed on your system by running the
following commands:</p>
    <table border="1" cellpadding="2" cellspacing="2">
      <tbody>
        <tr>
          <th colspan="2">Sample
Commands</th>
        </tr>
        <tr>
          <td><span style="font-weight: bold;">Windows:</span></td>
          <td>
          <pre>C:\&gt; java -version<br>Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_04-141.3)<br>Java HotSpot(TM) Client VM (build 1.4.2-38, mixed mode)</pre>
          </td>
        </tr>
        <tr>
          <td><span style="font-weight: bold;">Macintosh/Linux/Solaris:</span>
          </td>
          <td>
          <pre>$ java -version<br>java version "1.4.2_04"<br>Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.2_04-141.3)<br>Java HotSpot(TM) Client VM (build 1.4.2-38, mixed mode)</pre>
          </td>
        </tr>
      </tbody>
    </table>
    <p> If
you do not have the
correct version of Java installed, install
the Java Run-Time
Environment (JRE) or the Java Software
Development Kit (SDK) from <a href="http://java.sun.com/j2se/">http://java.sun.com/j2se/1.4.2/download.html</a><br>
Note: Java is already installed on Mac OSX computers.<br>
    </p>
  </li>
  <li> <span style="font-weight: bold;">Set
environment variables </span>
    <p>In&nbsp;UNIX operating
systems you typically modify a startup
file like ~/.bash_login to set and export environment variables. In
Windows XP, you go to </p>
    <p>Start -&gt; Control
Panel -&gt; System
-&gt;
Advanced -&gt; Environment Variables </p>
    <p>in order to
create or modify
the
named variables.</p>
    <p>Set the JAVA_HOME
environment variable to point to the base directory
of your Java installation. This will enable Tomcat to find the right
Java installation automatically. This may already be set up for you by
your Java SDK installation.</p>
    <table border="1" cellpadding="2" cellspacing="2">
      <tbody>
        <tr>
          <th colspan="2">Sample
Commands</th>
        </tr>
        <tr>
          <td><span style="font-weight: bold;">Windows:</span></td>
          <td>Set the environment
variable JAVA_HOME to "C:\j2sdk1.4.2_04" (do not
include the quotes) </td>
        </tr>
        <tr>
          <td><span style="font-weight: bold;">Mac:</span> </td>
          <td>
          <pre>export JAVA_HOME=/Library/Java/Home</pre>
          </td>
        </tr>
        <tr>
          <td><span style="font-weight: bold;">Linux:</span> </td>
          <td>
          <pre>export JAVA_HOME=/usr/local/java-current</pre>
          </td>
        </tr>
      </tbody>
    </table>
    <p>Extend the PATH variable so
as to include the Java commands.</p>
    <table border="1" cellpadding="2" cellspacing="2">
      <tbody>
        <tr>
          <th colspan="2">Sample
Commands</th>
        </tr>
        <tr>
          <td><span style="font-weight: bold;">Windows:</span></td>
          <td>Append the string
";C:\j2sdk1.4.2_04\bin" (include the semicolon but
not the quotes)
to the end of the System variable named Path. </td>
        </tr>
        <tr>
          <td><span style="font-weight: bold;">Mac:</span> </td>
          <td>not necessary</td>
        </tr>
        <tr>
          <td><span style="font-weight: bold;">*nix:</span> </td>
          <td>
          <pre>export PATH=$PATH:$JAVA_HOME/bin/</pre>
          </td>
        </tr>
      </tbody>
    </table>
    <p>You should test that these
variables are set correctly. &nbsp;In
both
Windows XP and *nix operating systems you can simply start a new shell
and type the 'set' command to see your environment variables.</p>
    <p>Once the variables are set
properly, run the java -version command once
more as a final check. </p>
  </li>
  <li>
    <p><span style="font-weight: bold;">Download
the Sakai Demo</span></p>
    <p>Get the demo from</p>
    <p><a
 href="http://cvs.sakaiproject.org/releases/2.0.1/sakai-demo_2-0-1.zip">http://cvs.sakaiproject.org/releases/2.0.1/sakai-demo_2-0-1.zip</a></p>
    <br>
OR<br>
    <p><a
 href="http://cvs.sakaiproject.org/releases/2.0.1/sakai-demo_2-0-1.tar.gz">http://cvs.sakaiproject.org/releases/2.0.1/sakai-demo_2-0-1.tar.gz</a></p>
  </li>
  <li> <span style="font-weight: bold;">Unpack
the Demo Archive</span>
    <p>When you unpack the demo
archive appropriate for your operating system,
you will have a folder called sakai-demo. &nbsp;This folder will
contain its own Tomcat directory.</p>
  </li>
  <li>
    <p><span style="font-weight: bold;">Start Tomcat</span></p>
    <p>From the top Tomcat
directory you can run the following startup
commands: </p>
    <table border="1" cellpadding="2" cellspacing="2">
      <tbody>
        <tr>
          <th colspan="2">Sample
Commands</th>
        </tr>
        <tr>
          <td><span style="font-weight: bold;">Windows:</span></td>
          <td>
          <pre>bin\catalina start</pre>
          </td>
        </tr>
        <tr>
          <td><span style="font-weight: bold;">Mac/*nix:</span> </td>
          <td>
          <pre>bin/catalina.sh start</pre>
          </td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p><span style="font-weight: bold;">Test Sakai</span></p>
    <p>Once your Tomcat is
started, open a browser and enter the following URL (don't be too
alarmed about delays - it can take Tomcat half a minute or more to load
the entire Sakai application):</p>
    <pre>http://localhost:8080/portal</pre>
    <p>This will bring you to the
Sakai gateway site. &nbsp;One user
account
is included in the demo, the administrator's account.&nbsp; Login
using
user id "admin" and password "admin".</p>
    <p>New user accounts can be
created from the admin's <span style="font-weight: bold;">User</span>
tool, or using
the "new account" link on the Sakai gateway site.</p>
    <p>To stop the demo you can
stop Tomcat with the following commands:</p>
    <table border="1" cellpadding="2" cellspacing="2">
      <tbody>
        <tr>
          <th colspan="2">Sample
Commands</th>
        </tr>
        <tr>
          <td><span style="font-weight: bold;">Windows:</span></td>
          <td>
          <pre>bin\catalina stop</pre>
          </td>
        </tr>
        <tr>
          <td><span style="font-weight: bold;">Mac/*nix:</span> </td>
          <td>
          <pre>bin/catalina.sh stop</pre>
          </td>
        </tr>
      </tbody>
    </table>
  </li>
</ol>
<br>
<h3><a name="Notes"></a>Demo
Notes</h3>
<ol>
  <li>
    <p><span style="font-weight: bold;">Data Storage</span></p>
    <p>The data for a Demo
installation is stored in a
HypersonicSql database which is stored in
memory and then written out to files when Tomcat is shut down. These
files are located at:</p>
    <pre>sakai-demo/sakai/db/sakai.db.*</pre>
    <p>Objects created and
modified in runs of the Sakai demo will persist
through server restarts.</p>
    <p>HSQL is not appropriate for
running Sakai in any sort of production
environment. For these, we recommend MySql or Oracle (see the <a
 href="SourceInstallGuide.html">Source Installation
Guide</a>).</p>
  </li>
  <li>
    <p><span style="font-weight: bold;">Things Not in the Demo</span></p>
    <ul>
      <li>email detection in Sakai
(i.e. mail sent to the Sakai server) is not
enabled.</li>
      <li>email from Sakai (i.e.
mail sent from Sakai) is not configured.
This would require providing Sakai with an SMTP server to use. If you
want
to do this, you can edit the sakai.properties found in sakai-demo/sakai
and add:
        <pre>smtp@org.sakaiproject.service.framework.email.EmailService=&lt;SMTP&gt;</pre>
        <p>where
&lt;SMTP&gt; is replaced with the name or ip address of
an SMPT
server that will accept mail from your Sakai app server.</p>
      </li>
    </ul>
  </li>
  <li>
    <p><span style="font-weight: bold;">Common
Problems</span></p>
    <ul>
      <span style="font-weight: bold;">Problems
Getting Started:</span> <li>Sakai's
Tomcat will run
on port 8080, and also make use of ports
8005 and 8009.&nbsp;&nbsp; If another process is running on any
of
these ports, Sakai will not start up.</li>
      <li>Sakai's Tomcat will find
itself relative to the startup
directory.&nbsp; Always start it from the sakai-demo
folder.&nbsp;&nbsp; If you have an environment variable
CATALINA_HOME
set to another Tomcat, this will interfere with Sakai's startup.</li>
    </ul>
    <br>
    <ul>
      <span style="font-weight: bold;">Problems
Running:</span> <li>Memory
or sluggish
performance:&nbsp;
        <p>The Java virtual machine's
configuration is very important to tune for best performance.
Unfortunately this is something of a black art. We recommend that
you
take the time to experiment with different memory and garbage
collection settings and see what works best in your environment.
&nbsp;The following details are offered only as samples or
suggestions: before making any such changes to a production system
please consult a systems administrator or local Java guru,
if you're not such a person.</p>
        <p>The standard way to control
the JVM options when Tomcat starts up is to have an environment
variable JAVA_OPTS defined with JVM startup options. &nbsp;One
sample value might be:</p>
        <pre>JAVA_OPTS=-server -Xms512m -Xmx512m -verbose:gc -XX:+PrintGCDetails -XX:+PrintGCTimeStamps</pre>
        <p>This is a fairly good
starting
point: it selects server mode, turns on garbage collection details,
and sets the memory. We have found the best results when you set the
min and max memory to the same values. 512 megs is not too much memory
for Sakai; 1 gig is even better.</p>
      </li>
    </ul>
  </li>
</ol>
</body>
</html>
